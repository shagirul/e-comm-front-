import menuIcon from "../../assets/icons/menuicon.svg";
import crossIcon from "../../assets/icons/crossicon.svg";
import searchIcon from "../../assets/icons/searchicon.svg";
import cartIcon from "../../assets/icons/carticon.svg";
import accountIcon from "../../assets/icons/accounticon.svg";

import { NavLink, Navigate } from "react-router-dom";
import { useState } from "react";
import { useCategoriesQuery } from "../../redux/api/productAPI";

import SearchSection from "./SearchSection";
import { useDispatch, useSelector } from "react-redux";
import { appFilterReducer } from "../../redux/reducer/AppfiltersReducer";
import CartSection from "./CartSection";
import { CartReducerInitialState } from "../../types/reducer-types";

export default function NavBar() {
  const { cartItems } = useSelector(
    (state: { cartReducer: CartReducerInitialState }) => state.cartReducer
  );
  const dispatch = useDispatch();
  const [nav, setNavOpen] = useState(false);
  const [search, setSearch] = useState(false);
  const [cart, setCart] = useState(false);
  const { data, isFetching } = useCategoriesQuery("");

  const toggleSection = (section: string) => {
    // Toggle the selected section
    switch (section) {
      case "nav":
        setNavOpen(!nav);

        setSearch(false);
        setCart(false);
        break;
      case "search":
        setNavOpen(false);
        setSearch(!search);
        setCart(false);
        break;
      case "cart":
        setNavOpen(false);
        setSearch(false);
        setCart(!cart);
        console.log(cart);
        break;
      default:
        setNavOpen(false);
        setSearch(false);
        setCart(false);
    }
  };

  return (
    <div className=" h-fit bg-white md:h-fit">
      <div className="fixed top-0 z-30 flex  w-full items-center justify-between border-b-[1px] border-primary border-opacity-15 bg-white px-[5%]   pb-3 pt-5 ">
        <div className="flex h-full items-center ">
          <img
            onClick={() => toggleSection("nav")}
            className="aspect-square min-w-5  md:w-5 md:hidden"
            src={menuIcon}
          />
          <div className=" flex items-baseline font-medium">
            <div className=" hidden h-full w-full items-center justify-center    text-primary md:flex gap-5 font-normal text-lg  text-primary min-w-[360px]">
              {/* <NavLink
                end
                to={"/search"}
                // to={title === "Home" ? "/" : `0/tag/${title}`}
                className={({ isActive }) =>
                  isActive
                    ? " whitespace-nowrap text-accent     md:px-2 md:py-1"
                    : " whitespace-nowrap  md:border-transparent    md:px-2 md:py-1"
                }
                // className="text-base border-2 md:border-none rounded-md border-white px-2"
              >
                COLLECTION
              </NavLink> */}
              <NavLink
                className={`  flex    w-full  md:px-2 md:py-1 `}
                // className={({ isActive }) =>
                //   isActive
                //     ? " whitespace-nowrap text-accent     md:px-2 md:py-1"
                //     : " whitespace-nowrap  md:border-transparent    md:px-2 md:py-1"
                // }
                end
                to={"/"}
              >
                {"Home"}
              </NavLink>
              {data?.categories
                ? data?.categories.map((title, index) => (
                    <li
                      // onClick={() => {}}
                      key={index}
                      className={`  flex  capitalize   `}
                    >
                      <NavLink
                        onClick={() => {
                          // toggleSection("nav");
                          dispatch(
                            appFilterReducer.actions.updateCategory(title)
                          );
                        }}
                        className={({ isActive }) =>
                          isActive
                            ? " whitespace-nowrap text-accent     md:px-2 md:py-1"
                            : " whitespace-nowrap  md:border-transparent    md:px-2 md:py-1"
                        }
                        end
                        to={"/search"}
                      >
                        {title}
                      </NavLink>
                    </li>
                  ))
                : ["cross body bag", "handbag"].map((title, index) => (
                    <li
                      // onClick={() => {}}
                      key={index}
                      className={`  flex  capitalize   `}
                    >
                      <NavLink
                        onClick={() => {
                          // toggleSection("nav");
                          dispatch(
                            appFilterReducer.actions.updateCategory(title)
                          );
                        }}
                        className={({ isActive }) =>
                          isActive
                            ? " whitespace-nowrap text-accent     md:px-2 md:py-1"
                            : " whitespace-nowrap  md:border-transparent    md:px-2 md:py-1"
                        }
                        end
                        to={"/search"}
                      >
                        {title}
                      </NavLink>
                    </li>
                  ))}
              {/* {NavBarItems.map((title) => (
                <NavLink
                  onClick={() => {
                    productDispatch({
                      type: "FILTER_BY_TAG",
                      payload: title,
                    });
                  }}
                  to={"/tag"}
                  className={({ isActive }) =>
                    isActive && selectedTag === title
                      ? "whitespace-nowrap font-extrabold     text-accent md:px-2 md:py-1"
                      : "whitespace-nowrap   md:border-transparent    md:px-2 md:py-1"
                  }
                >
                  {title}
                </NavLink>
              ))} */}
            </div>
          </div>
        </div>
        <NavLink className="w-full h-full flex justify-center" to={"/"}>
          <svg
            className="max-w-[15%] md:block hidden"
            width="214"
            height="62"
            viewBox="0 0 214 62"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M54.16 61V18.312H73.936C76.7947 18.312 79.4187 18.6533 81.808 19.336C84.1973 20.0187 86.1173 21.2347 87.568 22.984C89.0613 24.6907 89.808 27.1227 89.808 30.28C89.808 32.2427 89.2533 33.9067 88.144 35.272C87.0347 36.5947 85.712 37.64 84.176 38.408C82.64 39.176 81.2107 39.7307 79.888 40.072L78.416 37.192C81.2747 37.192 83.6853 37.64 85.648 38.536C87.6533 39.3893 89.1893 40.6053 90.256 42.184C91.3227 43.7627 91.856 45.6187 91.856 47.752C91.856 50.7813 91.088 53.2773 89.552 55.24C88.0587 57.2027 86.096 58.6533 83.664 59.592C81.232 60.5307 78.6293 61 75.856 61H54.16ZM67.024 51.4H74.64C75.3653 51.4 76.0267 51.2507 76.624 50.952C77.2213 50.6533 77.6907 50.2053 78.032 49.608C78.416 48.968 78.608 48.2 78.608 47.304C78.608 46.6213 78.5013 46.0453 78.288 45.576C78.0747 45.064 77.776 44.6587 77.392 44.36C77.0507 44.0187 76.624 43.7627 76.112 43.592C75.6 43.4213 75.0453 43.336 74.448 43.336H67.024V51.4ZM66.96 34.376H74.32C74.7467 34.376 75.1307 34.248 75.472 33.992C75.856 33.6933 76.1547 33.3307 76.368 32.904C76.624 32.4347 76.752 31.9227 76.752 31.368C76.752 30.1307 76.4107 29.256 75.728 28.744C75.088 28.1893 74.4053 27.912 73.68 27.912H66.96V34.376ZM94.765 61L110.509 18.312H124.717L139.053 61H125.933L112.813 19.912L119.597 19.336L106.605 61H94.765ZM104.557 53.512L106.733 44.552H125.485L126.701 53.512H104.557ZM161.677 61.96C157.538 61.96 153.869 61.256 150.669 59.848C147.469 58.3973 144.952 56.0507 143.117 52.808C141.282 49.5227 140.365 45.1493 140.365 39.688C140.365 34.3547 141.282 30.0453 143.117 26.76C144.952 23.432 147.469 21.0213 150.669 19.528C153.869 17.992 157.517 17.224 161.613 17.224C164.472 17.224 167.245 17.5227 169.933 18.12C172.621 18.6747 175.202 19.4427 177.677 20.424V31.816C174.861 30.28 172.344 29.0853 170.125 28.232C167.949 27.336 165.666 26.888 163.277 26.888C161.314 26.888 159.586 27.2507 158.093 27.976C156.642 28.6587 155.512 29.9173 154.701 31.752C153.89 33.5867 153.485 36.2107 153.485 39.624C153.485 42.952 153.912 45.5547 154.765 47.432C155.618 49.2667 156.728 50.568 158.093 51.336C159.501 52.0613 160.994 52.424 162.573 52.424C163.512 52.424 164.344 52.36 165.069 52.232C165.837 52.104 166.434 51.8907 166.861 51.592V46.024H161.165V36.424H179.661V56.84C176.888 58.4613 173.965 59.72 170.893 60.616C167.864 61.512 164.792 61.96 161.677 61.96ZM197.509 61.96C195.205 61.96 193.199 61.704 191.493 61.192C189.829 60.68 188.335 60.1893 187.013 59.72V49.864C187.695 50.4187 188.613 51.016 189.765 51.656C190.917 52.296 192.218 52.8507 193.669 53.32C195.119 53.7467 196.634 53.96 198.213 53.96C199.45 53.96 200.218 53.7893 200.517 53.448C200.858 53.064 201.029 52.6587 201.029 52.232C201.029 51.72 200.709 51.2933 200.069 50.952C199.429 50.568 198.597 50.248 197.573 49.992C196.549 49.736 195.461 49.5227 194.309 49.352C193.37 49.1813 192.431 48.8827 191.493 48.456C190.597 47.9867 189.786 47.3467 189.061 46.536C188.335 45.7253 187.759 44.7227 187.333 43.528C186.906 42.3333 186.693 40.9467 186.693 39.368C186.693 37.1067 187.119 35.2293 187.973 33.736C188.869 32.2427 190.021 31.048 191.429 30.152C192.879 29.256 194.415 28.616 196.037 28.232C197.701 27.848 199.279 27.6773 200.773 27.72C203.759 27.848 206.063 28.168 207.685 28.68C209.306 29.1493 210.714 29.8107 211.909 30.664L211.973 39.304C210.607 38.536 209.157 37.768 207.621 37C206.127 36.232 204.442 35.848 202.565 35.848C200.986 35.848 199.962 36.0613 199.493 36.488C199.066 36.9147 198.853 37.4267 198.853 38.024C198.853 38.664 199.045 39.176 199.429 39.56C199.855 39.9013 200.389 40.1787 201.029 40.392C201.711 40.6053 202.458 40.8187 203.269 41.032C204.335 41.288 205.423 41.5867 206.533 41.928C207.685 42.2267 208.751 42.7173 209.733 43.4C210.757 44.0827 211.567 45.0427 212.165 46.28C212.805 47.4747 213.125 49.096 213.125 51.144C213.039 53.8747 212.271 56.0293 210.821 57.608C209.413 59.1867 207.535 60.3173 205.189 61C202.842 61.64 200.282 61.96 197.509 61.96Z"
              fill="black"
            />
            <path
              d="M13.5625 11.625C13.5625 6.27459 17.9006 1.9375 23.25 1.9375C28.5994 1.9375 32.9375 6.27459 32.9375 11.625V23.25H31V11.625C31 7.34506 27.5299 3.875 23.25 3.875C18.9701 3.875 15.5 7.34506 15.5 11.625V23.25H13.5625V11.625Z"
              fill="#F9EBB2"
            />
            <path
              d="M1.9375 58.125C1.9375 59.1945 2.8055 60.0625 3.875 60.0625H42.625C43.6945 60.0625 44.5625 59.1945 44.5625 58.125V56.1875H1.9375V58.125Z"
              fill="#45AAB8"
            />
            <path
              d="M43.5938 21.3125H34.875V24.2188C34.875 24.7545 34.442 25.1875 33.9062 25.1875H30.0312C29.4955 25.1875 29.0625 24.7545 29.0625 24.2188V21.3125H17.4375V24.2188C17.4375 24.7545 17.0045 25.1875 16.4688 25.1875H12.5938C12.058 25.1875 11.625 24.7545 11.625 24.2188V21.3125H2.90625C2.37053 21.3125 1.9375 21.7455 1.9375 22.2812V54.25H44.5625V22.2812C44.5625 21.7455 44.1295 21.3125 43.5938 21.3125Z"
              fill="#45AAB8"
            />
            <path
              d="M44.5625 19.375H34.875V11.625C34.875 5.20509 29.6699 0 23.25 0C16.8301 0 11.625 5.20509 11.625 11.625V19.375H1.9375C0.867031 19.375 0 20.242 0 21.3125V58.125C0 60.2669 1.73309 62 3.875 62H42.625C44.7669 62 46.5 60.2669 46.5 58.125V21.3125C46.5 20.242 45.633 19.375 44.5625 19.375ZM13.5625 11.625C13.5625 6.27459 17.9006 1.9375 23.25 1.9375C28.5994 1.9375 32.9375 6.27459 32.9375 11.625V23.25H31V11.625C31 7.34506 27.5299 3.875 23.25 3.875C18.9701 3.875 15.5 7.34506 15.5 11.625V23.25H13.5625V11.625ZM29.0625 11.625V19.375H17.4375V11.625C17.4375 8.41456 20.0405 5.8125 23.25 5.8125C26.4595 5.8125 29.0625 8.41456 29.0625 11.625ZM44.5625 58.125C44.5625 59.1945 43.6945 60.0625 42.625 60.0625H3.875C2.8055 60.0625 1.9375 59.1945 1.9375 58.125V56.1875H44.5625V58.125ZM44.5625 54.25H1.9375V22.2812C1.9375 21.7455 2.37053 21.3125 2.90625 21.3125H11.625V24.2188C11.625 24.7545 12.058 25.1875 12.5938 25.1875H16.4688C17.0045 25.1875 17.4375 24.7545 17.4375 24.2188V21.3125H29.0625V24.2188C29.0625 24.7545 29.4955 25.1875 30.0312 25.1875H33.9062C34.442 25.1875 34.875 24.7545 34.875 24.2188V21.3125H43.5938C44.1295 21.3125 44.5625 21.7455 44.5625 22.2812V54.25Z"
              fill="#394240"
            />
            <path
              d="M27.125 32.9375C26.0555 32.9375 25.0868 33.3705 24.3854 34.0729L23.25 35.2005L22.1146 34.0729C21.4132 33.3705 20.4445 32.9375 19.375 32.9375C17.235 32.9375 15.5 34.6725 15.5 36.8125C15.5 37.882 16.1907 38.8808 16.8931 39.5822L22.5651 45.2542C22.9439 45.633 23.5561 45.633 23.9349 45.2542L29.5924 39.5967C30.2938 38.8953 31 37.882 31 36.8125C31 34.6725 29.265 32.9375 27.125 32.9375ZM28.2449 38.2056L23.25 43.2004L18.2551 38.2056C17.9035 37.8549 17.4375 37.3482 17.4375 36.8125C17.4375 35.742 18.3055 34.875 19.375 34.875C19.9107 34.875 20.3951 35.091 20.7448 35.4427L22.5651 37.2552C22.9439 37.634 23.5561 37.634 23.9349 37.2552L25.7552 35.4427C26.1049 35.091 26.5893 34.875 27.125 34.875C28.1945 34.875 29.0625 35.742 29.0625 36.8125C29.0625 37.3482 28.5965 37.8549 28.2449 38.2056Z"
              fill="#394240"
            />
            <path
              d="M28.2449 38.2056L23.25 43.2004L18.2551 38.2056C17.9035 37.8549 17.4375 37.3482 17.4375 36.8125C17.4375 35.742 18.3055 34.875 19.375 34.875C19.9107 34.875 20.3951 35.091 20.7448 35.4427L22.5651 37.2552C22.9439 37.634 23.5561 37.634 23.9349 37.2552L25.7552 35.4427C26.1049 35.091 26.5893 34.875 27.125 34.875C28.1945 34.875 29.0625 35.742 29.0625 36.8125C29.0625 37.3482 28.5965 37.8549 28.2449 38.2056Z"
              fill="#F76D57"
            />
            <path
              opacity="0.2"
              d="M44.5625 58.125C44.5625 59.1945 43.6945 60.0625 42.625 60.0625H3.875C2.8055 60.0625 1.9375 59.1945 1.9375 58.125V56.1875H44.5625V58.125Z"
              fill="black"
            />
          </svg>
        </NavLink>

        <div className="flex w-full lg:w-fit  h-full items-center justify-end gap-[6vw] md:gap-[3vw] lg:min-w-[360px]">
          <img
            onClick={() => toggleSection("search")}
            className=" aspect-square w-5  md:w-5"
            src={search ? crossIcon : searchIcon}
          />
          <span className="relative">
            <img
              onClick={() => toggleSection("cart")}
              className="aspect-square w-5  md:w-5"
              src={cartIcon}
            />
            {cartItems.length > 0 && (
              <span className="absolute  rounded-full bg-black  text-[10px]  font-bold text-white  min-w-[15px] aspect-square -top-[12px] -right-[11px] flex justify-center items-center p-[0.5px] ">
                {cartItems.length}
              </span>
            )}
          </span>

          <NavLink to={"/myAccount"}>
            <img className="aspect-square w-5  md:w-5" src={accountIcon} />
          </NavLink>
        </div>
      </div>
      <div
        // onClick={() => toggleSection("cart")}
        className={
          cart
            ? "duration-600 fixed right-0 top-0 z-50  h-full w-full md:w-[35%]   bg-white text-primary  duration-200 ease-in-out "
            : "fixed  right-[-100%]  top-0  z-20  h-full w-full   bg-white   ease-in-out "
        }
      >
        <CartSection toggleSection={toggleSection} length={cartItems.length} />
      </div>
      <div
        // onClick={() => toggleSection("nav")}
        className={
          nav
            ? "duration-600  fixed left-0 top-0 z-50  h-full w-[75%]   bg-white text-primary shadow-lg  duration-200 ease-in-out "
            : "fixed  left-[-100%]  top-0  z-20  h-full w-[80%]   bg-white   ease-in-out "
        }
      >
        <div className="flex items-end justify-between px-4 py-3 text-primary ">
          <NavLink to={"/"}>
            <svg
              className="max-w-[60%] -my-[8px] "
              width="214"
              height="62"
              viewBox="0 0 214 62"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M54.16 61V18.312H73.936C76.7947 18.312 79.4187 18.6533 81.808 19.336C84.1973 20.0187 86.1173 21.2347 87.568 22.984C89.0613 24.6907 89.808 27.1227 89.808 30.28C89.808 32.2427 89.2533 33.9067 88.144 35.272C87.0347 36.5947 85.712 37.64 84.176 38.408C82.64 39.176 81.2107 39.7307 79.888 40.072L78.416 37.192C81.2747 37.192 83.6853 37.64 85.648 38.536C87.6533 39.3893 89.1893 40.6053 90.256 42.184C91.3227 43.7627 91.856 45.6187 91.856 47.752C91.856 50.7813 91.088 53.2773 89.552 55.24C88.0587 57.2027 86.096 58.6533 83.664 59.592C81.232 60.5307 78.6293 61 75.856 61H54.16ZM67.024 51.4H74.64C75.3653 51.4 76.0267 51.2507 76.624 50.952C77.2213 50.6533 77.6907 50.2053 78.032 49.608C78.416 48.968 78.608 48.2 78.608 47.304C78.608 46.6213 78.5013 46.0453 78.288 45.576C78.0747 45.064 77.776 44.6587 77.392 44.36C77.0507 44.0187 76.624 43.7627 76.112 43.592C75.6 43.4213 75.0453 43.336 74.448 43.336H67.024V51.4ZM66.96 34.376H74.32C74.7467 34.376 75.1307 34.248 75.472 33.992C75.856 33.6933 76.1547 33.3307 76.368 32.904C76.624 32.4347 76.752 31.9227 76.752 31.368C76.752 30.1307 76.4107 29.256 75.728 28.744C75.088 28.1893 74.4053 27.912 73.68 27.912H66.96V34.376ZM94.765 61L110.509 18.312H124.717L139.053 61H125.933L112.813 19.912L119.597 19.336L106.605 61H94.765ZM104.557 53.512L106.733 44.552H125.485L126.701 53.512H104.557ZM161.677 61.96C157.538 61.96 153.869 61.256 150.669 59.848C147.469 58.3973 144.952 56.0507 143.117 52.808C141.282 49.5227 140.365 45.1493 140.365 39.688C140.365 34.3547 141.282 30.0453 143.117 26.76C144.952 23.432 147.469 21.0213 150.669 19.528C153.869 17.992 157.517 17.224 161.613 17.224C164.472 17.224 167.245 17.5227 169.933 18.12C172.621 18.6747 175.202 19.4427 177.677 20.424V31.816C174.861 30.28 172.344 29.0853 170.125 28.232C167.949 27.336 165.666 26.888 163.277 26.888C161.314 26.888 159.586 27.2507 158.093 27.976C156.642 28.6587 155.512 29.9173 154.701 31.752C153.89 33.5867 153.485 36.2107 153.485 39.624C153.485 42.952 153.912 45.5547 154.765 47.432C155.618 49.2667 156.728 50.568 158.093 51.336C159.501 52.0613 160.994 52.424 162.573 52.424C163.512 52.424 164.344 52.36 165.069 52.232C165.837 52.104 166.434 51.8907 166.861 51.592V46.024H161.165V36.424H179.661V56.84C176.888 58.4613 173.965 59.72 170.893 60.616C167.864 61.512 164.792 61.96 161.677 61.96ZM197.509 61.96C195.205 61.96 193.199 61.704 191.493 61.192C189.829 60.68 188.335 60.1893 187.013 59.72V49.864C187.695 50.4187 188.613 51.016 189.765 51.656C190.917 52.296 192.218 52.8507 193.669 53.32C195.119 53.7467 196.634 53.96 198.213 53.96C199.45 53.96 200.218 53.7893 200.517 53.448C200.858 53.064 201.029 52.6587 201.029 52.232C201.029 51.72 200.709 51.2933 200.069 50.952C199.429 50.568 198.597 50.248 197.573 49.992C196.549 49.736 195.461 49.5227 194.309 49.352C193.37 49.1813 192.431 48.8827 191.493 48.456C190.597 47.9867 189.786 47.3467 189.061 46.536C188.335 45.7253 187.759 44.7227 187.333 43.528C186.906 42.3333 186.693 40.9467 186.693 39.368C186.693 37.1067 187.119 35.2293 187.973 33.736C188.869 32.2427 190.021 31.048 191.429 30.152C192.879 29.256 194.415 28.616 196.037 28.232C197.701 27.848 199.279 27.6773 200.773 27.72C203.759 27.848 206.063 28.168 207.685 28.68C209.306 29.1493 210.714 29.8107 211.909 30.664L211.973 39.304C210.607 38.536 209.157 37.768 207.621 37C206.127 36.232 204.442 35.848 202.565 35.848C200.986 35.848 199.962 36.0613 199.493 36.488C199.066 36.9147 198.853 37.4267 198.853 38.024C198.853 38.664 199.045 39.176 199.429 39.56C199.855 39.9013 200.389 40.1787 201.029 40.392C201.711 40.6053 202.458 40.8187 203.269 41.032C204.335 41.288 205.423 41.5867 206.533 41.928C207.685 42.2267 208.751 42.7173 209.733 43.4C210.757 44.0827 211.567 45.0427 212.165 46.28C212.805 47.4747 213.125 49.096 213.125 51.144C213.039 53.8747 212.271 56.0293 210.821 57.608C209.413 59.1867 207.535 60.3173 205.189 61C202.842 61.64 200.282 61.96 197.509 61.96Z"
                fill="black"
              />
              <path
                d="M13.5625 11.625C13.5625 6.27459 17.9006 1.9375 23.25 1.9375C28.5994 1.9375 32.9375 6.27459 32.9375 11.625V23.25H31V11.625C31 7.34506 27.5299 3.875 23.25 3.875C18.9701 3.875 15.5 7.34506 15.5 11.625V23.25H13.5625V11.625Z"
                fill="#F9EBB2"
              />
              <path
                d="M1.9375 58.125C1.9375 59.1945 2.8055 60.0625 3.875 60.0625H42.625C43.6945 60.0625 44.5625 59.1945 44.5625 58.125V56.1875H1.9375V58.125Z"
                fill="#45AAB8"
              />
              <path
                d="M43.5938 21.3125H34.875V24.2188C34.875 24.7545 34.442 25.1875 33.9062 25.1875H30.0312C29.4955 25.1875 29.0625 24.7545 29.0625 24.2188V21.3125H17.4375V24.2188C17.4375 24.7545 17.0045 25.1875 16.4688 25.1875H12.5938C12.058 25.1875 11.625 24.7545 11.625 24.2188V21.3125H2.90625C2.37053 21.3125 1.9375 21.7455 1.9375 22.2812V54.25H44.5625V22.2812C44.5625 21.7455 44.1295 21.3125 43.5938 21.3125Z"
                fill="#45AAB8"
              />
              <path
                d="M44.5625 19.375H34.875V11.625C34.875 5.20509 29.6699 0 23.25 0C16.8301 0 11.625 5.20509 11.625 11.625V19.375H1.9375C0.867031 19.375 0 20.242 0 21.3125V58.125C0 60.2669 1.73309 62 3.875 62H42.625C44.7669 62 46.5 60.2669 46.5 58.125V21.3125C46.5 20.242 45.633 19.375 44.5625 19.375ZM13.5625 11.625C13.5625 6.27459 17.9006 1.9375 23.25 1.9375C28.5994 1.9375 32.9375 6.27459 32.9375 11.625V23.25H31V11.625C31 7.34506 27.5299 3.875 23.25 3.875C18.9701 3.875 15.5 7.34506 15.5 11.625V23.25H13.5625V11.625ZM29.0625 11.625V19.375H17.4375V11.625C17.4375 8.41456 20.0405 5.8125 23.25 5.8125C26.4595 5.8125 29.0625 8.41456 29.0625 11.625ZM44.5625 58.125C44.5625 59.1945 43.6945 60.0625 42.625 60.0625H3.875C2.8055 60.0625 1.9375 59.1945 1.9375 58.125V56.1875H44.5625V58.125ZM44.5625 54.25H1.9375V22.2812C1.9375 21.7455 2.37053 21.3125 2.90625 21.3125H11.625V24.2188C11.625 24.7545 12.058 25.1875 12.5938 25.1875H16.4688C17.0045 25.1875 17.4375 24.7545 17.4375 24.2188V21.3125H29.0625V24.2188C29.0625 24.7545 29.4955 25.1875 30.0312 25.1875H33.9062C34.442 25.1875 34.875 24.7545 34.875 24.2188V21.3125H43.5938C44.1295 21.3125 44.5625 21.7455 44.5625 22.2812V54.25Z"
                fill="#394240"
              />
              <path
                d="M27.125 32.9375C26.0555 32.9375 25.0868 33.3705 24.3854 34.0729L23.25 35.2005L22.1146 34.0729C21.4132 33.3705 20.4445 32.9375 19.375 32.9375C17.235 32.9375 15.5 34.6725 15.5 36.8125C15.5 37.882 16.1907 38.8808 16.8931 39.5822L22.5651 45.2542C22.9439 45.633 23.5561 45.633 23.9349 45.2542L29.5924 39.5967C30.2938 38.8953 31 37.882 31 36.8125C31 34.6725 29.265 32.9375 27.125 32.9375ZM28.2449 38.2056L23.25 43.2004L18.2551 38.2056C17.9035 37.8549 17.4375 37.3482 17.4375 36.8125C17.4375 35.742 18.3055 34.875 19.375 34.875C19.9107 34.875 20.3951 35.091 20.7448 35.4427L22.5651 37.2552C22.9439 37.634 23.5561 37.634 23.9349 37.2552L25.7552 35.4427C26.1049 35.091 26.5893 34.875 27.125 34.875C28.1945 34.875 29.0625 35.742 29.0625 36.8125C29.0625 37.3482 28.5965 37.8549 28.2449 38.2056Z"
                fill="#394240"
              />
              <path
                d="M28.2449 38.2056L23.25 43.2004L18.2551 38.2056C17.9035 37.8549 17.4375 37.3482 17.4375 36.8125C17.4375 35.742 18.3055 34.875 19.375 34.875C19.9107 34.875 20.3951 35.091 20.7448 35.4427L22.5651 37.2552C22.9439 37.634 23.5561 37.634 23.9349 37.2552L25.7552 35.4427C26.1049 35.091 26.5893 34.875 27.125 34.875C28.1945 34.875 29.0625 35.742 29.0625 36.8125C29.0625 37.3482 28.5965 37.8549 28.2449 38.2056Z"
                fill="#F76D57"
              />
              <path
                opacity="0.2"
                d="M44.5625 58.125C44.5625 59.1945 43.6945 60.0625 42.625 60.0625H3.875C2.8055 60.0625 1.9375 59.1945 1.9375 58.125V56.1875H44.5625V58.125Z"
                fill="black"
              />
            </svg>
          </NavLink>

          <img
            onClick={() => {
              toggleSection("nav");
            }}
            src={crossIcon}
            className="h-4"
          ></img>
        </div>
        <div className="flex flex-col mt-3 ">
          {data?.categories &&
            data?.categories.map((title, index) => (
              <li
                // onClick={() => {}}
                key={index}
                className={`capitalize  flex    w-full font-extrabold text-base  text-primary `}
              >
                <NavLink
                  onClick={() => {
                    toggleSection("nav");
                    dispatch(appFilterReducer.actions.updateCategory(title));
                  }}
                  className={" inline-block h-full w-full     px-5 py-1  "}
                  end
                  to={"/search"}
                >
                  {title}
                </NavLink>
              </li>
            ))}
        </div>
      </div>

      <SearchSection
        toggleSection={toggleSection}
        data={data}
        isFetching={isFetching}
        isSearchvisible={search}
      />
      <div
        onClick={() => toggleSection("")}
        className={
          nav || cart || search
            ? ` fixed right-0 top-0 ${
                cart || nav ? " z-[30]" : "z-[10]"
              }  h-full w-full bg-black bg-opacity-50  `
            : "h-0 w-0 "
        }
      ></div>
    </div>
  );
}
